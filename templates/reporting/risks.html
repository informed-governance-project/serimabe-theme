{% load i18n %}
{% load custom_filters %}


<h2 id="risks" class="{{ title_class }}">
    {% translate "Risks" %}
</h2>
<div>
    <h3 id="risks_1" class="{{ title_class }}">
        {% translate "Risk average level" %}
    </h3>
    <div class="{{ chart_class }}">
        <img src="data:image/png;base64,{{ charts.risks_1 }}" class="img-fluid" />
    </div>
</div>
<div>
    <h3 id="risks_2" class="{{ title_class }}">
        {% translate "High-risk rate (>threshold)" %}
    </h3>
</div>
<div>
    <h3 id="risks_3" class="{{ title_class }}">
        {% translate "High risk average level" %}
    </h3>
    <div class="{{ chart_class }}">
        <img src="data:image/png;base64,{{ charts.risks_3 }}" class="img-fluid" />
    </div>
</div>
<div>
    <h3 id="risks_4" class="{{ title_class }}">
        {% translate "Evolution of the highest risks" %}
    </h3>
    <div class="{{ chart_class }}">
        <img src="data:image/png;base64,{{ charts.risks_4 }}" class="img-fluid" />
    </div>
    <table class="{{ table_class }}" style="font-size: 10px;">
        <thead class="thead-light">
            <tr>
                <th class="text-center align-middle" rowspan="3">{% translate "ID" %}</th>
                <th class="text-center align-middle" rowspan="3">{% translate "Asset" %}</th>
                <th class="text-center align-middle" colspan="6">{% translate "Impact" %}</th>
                <th class="text-center align-middle" rowspan="3">{% translate "Threat" %}</th>
                <th class="text-center align-middle" colspan="2">{% translate "Probability" %}</th>
                <th class="text-center align-middle" rowspan="3">{% translate "Vulnerability" %}</th>
                <th class="text-center align-middle" colspan="2">{% translate "Qualification" %}</th>
                <th class="text-center align-middle" colspan="6">{% translate "Current Risk" %}</th>
            </tr>
            <tr>
                <th class="text-center align-middle" colspan="3">{% translate "2023" %}</th>
                <th class="text-center align-middle" colspan="3">{% translate "2024" %}</th>
                <th class="text-center align-middle" rowspan="2">{% translate "2023" %}</th>
                <th class="text-center align-middle" rowspan="2">{% translate "2024" %}</th>
                <th class="text-center align-middle" rowspan="2">{% translate "2023" %}</th>
                <th class="text-center align-middle" rowspan="2">{% translate "2024" %}</th>
                <th class="text-center align-middle" colspan="3">{% translate "2023" %}</th>
                <th class="text-center align-middle" colspan="3">{% translate "2024" %}</th>
            </tr>
            <tr>
                <th class="text-center">{% translate "C" %}</th>
                <th class="text-center">{% translate "I" %}</th>
                <th class="text-center">{% translate "A" %}</th>
                <th class="text-center">{% translate "C" %}</th>
                <th class="text-center">{% translate "I" %}</th>
                <th class="text-center">{% translate "A" %}</th>
                <th class="text-center">{% translate "C" %}</th>
                <th class="text-center">{% translate "I" %}</th>
                <th class="text-center">{% translate "A" %}</th>
                <th class="text-center">{% translate "C" %}</th>
                <th class="text-center">{% translate "I" %}</th>
                <th class="text-center">{% translate "A" %}</th>
            </tr>   
        </thead>
        <tbody>
            {% for risk in '12345'|make_list %}
            <tr>
                <td class="align-middle">Ra{{ risk }}</td>
                <td>{% lorem 3 w random %}</td>
                <td class="text-center align-middle">{{ "01234"|make_list|random }}</td>
                <td class="text-center align-middle">{{ "01234"|make_list|random }}</td>
                <td class="text-center align-middle">{{ "01234"|make_list|random }}</td>
                <td class="text-center align-middle">{{ "01234"|make_list|random }}</td>
                <td class="text-center align-middle">{{ "01234"|make_list|random }}</td>
                <td class="text-center align-middle">{{ "01234"|make_list|random }}</td>
                <td>{% lorem 5 w random %}</td>
                <td class="text-center align-middle">{{ "0123"|make_list|random }}</td>
                <td class="text-center align-middle">{{ "0123"|make_list|random }}</td>
                <td>{% lorem 10 w random %}</td>
                <td class="text-center align-middle">{{ "0123"|make_list|random }}</td>
                <td class="text-center align-middle">{{ "0123"|make_list|random }}</td>
                <td class="text-center align-middle">{{ "01234"|make_list|random }}</td>
                <td class="text-center align-middle">{{ "01234"|make_list|random }}</td>
                <td class="text-center align-middle">{{ "01234"|make_list|random }}</td>
                <td class="text-center align-middle">{{ "01234"|make_list|random }}</td>
                <td class="text-center align-middle">{{ "01234"|make_list|random }}</td>
                <td class="text-center align-middle">{{ "01234"|make_list|random }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<div>
    <h3 id="risks_5" class="{{ title_class }}">
        {% translate "Treatment of the highest risks" %}
    </h3>
</div>
<table class="{{ table_class }}" style="font-size: 10px;">
    <thead class="thead-light">
        <tr>
            <th class="text-center align-middle">{% translate "ID" %}</th>
            <th class="text-center align-middle">{% translate "Asset" %}</th>
            <th class="text-center align-middle">{% translate "Threat" %}</th>
            <th class="text-center align-middle">{% translate "Vulnerability" %}</th>
            <th class="text-center align-middle">{% translate "Max Current Risk" %}</th>
            <th class="text-center align-middle">{% translate "Treatment" %}</th>
            <th class="text-center align-middle">{% translate "Residual Risk" %}</th>
        </tr>   
    </thead>
    <tbody>
        {% for risk in '12345'|make_list %}
        <tr>
            <td class="align-middle">Ra{{ risk }}</td>
            <td>{% lorem 3 w random %}</td>
            <td>{% lorem 5 w random %}</td>
            <td>{% lorem 10 w random %}</td>
            <td class="text-center align-middle">{{ "01234"|make_list|random }}</td>
            <td>{% lorem 1 w random %}</td>
            <td class="text-center align-middle">{{ "01234"|make_list|random }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<div>
    <h3 id="risks_6" class="{{ title_class }}">
        {% translate "Risk summary table" %}
    </h3>
</div>
<table class="{{ table_class }}" style="font-size: 8px;">
    <thead class="thead-light">
        <tr>
            <th></th>
            <th class="text-center align-middle">{% translate "Total amount of treated risks" %}</th>
            <th class="text-center align-middle">{% translate "Total amount of not-treated risks" %}</th>
            <th class="text-center align-middle">{% translate "Average value of treated current risks" %}</th>
            <th class="text-center align-middle">{% translate "Total amount of high risks" %}</th>
            <th class="text-center align-middle">{% translate "Average value of high risks" %}</th>
            <th class="text-center align-middle">{% translate "Average value of residual risks" %}</th>
            <th class="text-center align-middle">{% translate "Total amount of reduced risks" %}</th>
            <th class="text-center align-middle">{% translate "Total amount of denied risks" %}</th>
            <th class="text-center align-middle">{% translate "Total amount of accepted risk" %}</th>
            <th class="text-center align-middle">{% translate "Total amount of shared risks" %}</th>
        </tr>   
    </thead>
    <tbody>
        {% for service in '12345'|make_list %}
            {% with color_service=service_color_palette|index:forloop.counter0|safe %}
            {% for year in years reversed %}
            <tr>
                <th class="align-middle" style="color: {{ color_service }};">Service {{ service }} ({{ year }})</th>
                {% for n in '0123456789'|make_list %}
                <td class="text-center align-middle" style="color: {{ color_service }};">xxx/yyy</td>
                {% endfor %}
            </tr>
            {% endfor %}
            {% endwith %}
        {% endfor %}
    </tbody>
</table>
<div>
    <h3 id="risks_7" class="{{ title_class }}">
        {% translate "Most important threats" %}
    </h3>
    {% for service in '12345'|make_list %}
    {% with color_service=service_color_palette|index:forloop.counter0|safe %}
    <table class="{{ table_class }}">
        <thead class="thead-light">
            <tr>
                <th rowspan="2"></th>
                <th class="text-center align-middle" colspan="3" style="color: {{ color_service }};">Service {{ service }}</th>
            </tr>
            <tr>
                <th class="text-center align-middle">{% translate "Threat ranking based on risk level" %}</th>
                <th class="text-center align-middle">{% translate "Threat ranking based on residual risk level" %}</th>
                <th class="text-center align-middle">{% translate "Threat ranking based on threat probability" %}</th>
            </tr>   
        </thead>
        <tbody>
            {%for item in '123'|make_list %}
            <tr>
                <th class="align-middle">#{{ item }}</th>
                {% for n in '012'|make_list %}
                <td style="color: {{ color_service }};">
                    {% lorem 5 w random %}
                </td>
                {% endfor %}
            </tr>   
            {% endfor %}        
        </tbody>
    </table>
    {% endwith %}
    {% endfor %}

    <table class="{{ table_class }}">
        <thead class="thead-light">
            <tr>
                <th rowspan="2"></th>
                <th class="text-center align-middle" colspan="3">All Services</th>
            </tr>
            <tr>
                <th class="text-center align-middle">{% translate "Threat ranking based on risk level" %}</th>
                <th class="text-center align-middle">{% translate "Threat ranking based on residual risk level" %}</th>
                <th class="text-center align-middle">{% translate "Threat ranking based on threat probability" %}</th>
            </tr>   
        </thead>
        <tbody>
            {%for item in '123'|make_list %}
            <tr>
                <th class="align-middle">#{{ item }}</th>
                {% for n in '012'|make_list %}
                <td>
                    {% lorem 5 w random %}
                </td>
                {% endfor %}
            </tr>   
            {% endfor %}        
        </tbody>
    </table>
</div>
<div>
    <h3 id="risks_8" class="{{ title_class }}">
        {% translate "Most targeted assets" %}
    </h3>
    {% for service in '12345'|make_list %}
    {% with color_service=service_color_palette|index:forloop.counter0|safe %}
    <table class="{{ table_class }}">
        <thead class="thead-light">
            <tr>
                <th rowspan="2"></th>
                <th class="text-center align-middle" colspan="3" style="color: {{ color_service }};">Service {{ service }}</th>
            </tr>
            <tr>
                <th class="text-center align-middle">{% translate "Most targeted asset based on risk level" %}</th>
                <th class="text-center align-middle">{% translate "Most targeted asset based on remaining risk level" %}</th>
                <th class="text-center align-middle">{% translate "Most targeted asset based on asset impact" %}</th>
            </tr>   
        </thead>
        <tbody>
            {%for item in '123'|make_list %}
            <tr>
                <th class="align-middle">#{{ item }}</th>
                {% for n in '012'|make_list %}
                <td style="color: {{ color_service }};">
                    {% lorem 3 w random %}
                </td>
                {% endfor %}
            </tr>   
            {% endfor %}        
        </tbody>
    </table>
    {% endwith %}
    {% endfor %}

    <table class="{{ table_class }}">
        <thead class="thead-light">
            <tr>
                <th rowspan="2"></th>
                <th class="text-center align-middle" colspan="3">All Services</th>
            </tr>
            <tr>
                <th class="text-center align-middle">{% translate "Most targeted asset based on risk level" %}</th>
                <th class="text-center align-middle">{% translate "Most targeted asset based on remaining risk level" %}</th>
                <th class="text-center align-middle">{% translate "Most targeted asset based on asset impact" %}</th>
            </tr>   
        </thead>
        <tbody>
            {%for item in '123'|make_list %}
            <tr>
                <th class="align-middle">#{{ item }}</th>
                {% for n in '012'|make_list %}
                <td>
                    {% lorem 3 w random %}
                </td>
                {% endfor %}
            </tr>   
            {% endfor %}        
        </tbody>
    </table>
</div>
<div>
    <h3 id="risks_9" class="{{ title_class }}">
        {% translate "Most important vulnerabilities" %}
    </h3>
    {% for service in '12345'|make_list %}
    {% with color_service=service_color_palette|index:forloop.counter0|safe %}
    <table class="{{ table_class }}">
        <thead class="thead-light">
            <tr>
                <th rowspan="2"></th>
                <th class="text-center align-middle" colspan="3" style="color: {{ color_service }};">Service {{ service }}</th>
            </tr>
            <tr>
                <th class="text-center align-middle">{% translate "Most important vulnerability based on risk level" %}</th>
                <th class="text-center align-middle">{% translate "Most important vulnerability based on remaining risk level" %}</th>
                <th class="text-center align-middle">{% translate "Most important vulnerability based on vulnerability qualification" %}</th>
            </tr>   
        </thead>
        <tbody>
            {%for item in '123'|make_list %}
            <tr>
                <th class="align-middle">#{{ item }}</th>
                {% for n in '012'|make_list %}
                <td style="color: {{ color_service }};">
                    {% lorem 10 w random %}
                </td>
                {% endfor %}
            </tr>   
            {% endfor %}        
        </tbody>
    </table>
    {% endwith %}
    {% endfor %}
    <table class="{{ table_class }}">
        <thead class="thead-light">
            <tr>
                <th rowspan="2"></th>
                <th class="text-center align-middle" colspan="3">All Services</th>
            </tr>
            <tr>
                <th class="text-center align-middle">{% translate "Most important vulnerability based on risk level" %}</th>
                <th class="text-center align-middle">{% translate "Most important vulnerability based on remaining risk level" %}</th>
                <th class="text-center align-middle">{% translate "Most important vulnerability based on vulnerability qualification" %}</th>
            </tr>   
        </thead>
        <tbody>
            {%for item in '123'|make_list %}
            <tr>
                <th class="align-middle">#{{ item }}</th>
                {% for n in '012'|make_list %}
                <td>
                    {% lorem 10 w random %}
                </td>
                {% endfor %}
            </tr>   
            {% endfor %}        
        </tbody>
    </table>
</div>
<div>
    <h3 id="risks_10" class="{{ title_class }}">
        {% translate "Most used recommendations" %}
    </h3>
</div>
<div>
    <h3 id="risks_11" class="{{ title_class }}">
        {% translate "List of recommendations" %}
    </h3>
</div>
